{
  "_fv": 60,
  "_type": "procedure",
  "definition": {
    "procedurexml": "<xml xmlns=\"https://developers.google.com/blockly/xml\"><variables><variable type=\"Boolean\" id=\"reforge\">reforge</variable><variable type=\"Number\" id=\"randomr\">randomr</variable><variable type=\"List\" id=\"toolreforges\">toolreforges</variable><variable type=\"List\" id=\"bowreforges\">bowreforges</variable><variable type=\"List\" id=\"shieldreforges\">shieldreforges</variable><variable type=\"List\" id=\"armorreforges\">armorreforges</variable><variable type=\"List\" id=\"helmetreforges\">helmetreforges</variable><variable type=\"List\" id=\"chestplatereforges\">chestplatereforges</variable><variable type=\"List\" id=\"leggingsreforges\">leggingsreforges</variable><variable type=\"List\" id=\"bootsreforges\">bootsreforges</variable><variable type=\"JsonObject\" id=\"quality\">quality</variable><variable type=\"String\" id=\"type\">type</variable></variables><block type=\"event_trigger\" deletable=\"false\" x=\"52\" y=\"67\"><field name=\"trigger\">player_ticks</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_variable\"><field name=\"variable\">AUTO_REFORGE</field><field name=\"config\">CUSTOM:Reforges</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"world_data_isremote\"></block></value></block></value><statement name=\"DO0\"><block type=\"entity_inventory_foreach\"><value name=\"entity\"><block type=\"entity_from_deps\"></block></value><value name=\"_placeholder\"><block type=\"itemstack_iterator\" deletable=\"false\" movable=\"false\"></block></value><statement name=\"foreach\"><block type=\"java_code\"><field name=\"CODE\">String classname = itemstackiterator.getItem().getClass().getName();</field><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_binary_ops\" inline=\"false\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"java_code_get\"><field name=\"CODE\">itemstackiterator.getItem() instanceof TieredItem || QualityEquipmentModVariables.tetraItems.contains(classname) || QualityEquipmentModVariables.tetraBows.contains(classname) || classname.equals(\"se.mickelus.tetra.items.modular.impl.shield.ModularShieldItem\")</field></block></value><value name=\"B\"><block type=\"logic_binary_ops\" inline=\"false\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"item_istype\"><field name=\"item_type\">Bow</field><value name=\"item\"><block type=\"itemstack_iterator\"></block></value></block></value><value name=\"B\"><block type=\"logic_binary_ops\" inline=\"false\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"item_istype\"><field name=\"item_type\">Crossbow</field><value name=\"item\"><block type=\"itemstack_iterator\"></block></value></block></value><value name=\"B\"><block type=\"logic_binary_ops\" inline=\"false\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"item_istype\"><field name=\"item_type\">Shield</field><value name=\"item\"><block type=\"itemstack_iterator\"></block></value></block></value><value name=\"B\"><block type=\"item_istype\"><field name=\"item_type\">Armor</field><value name=\"item\"><block type=\"itemstack_iterator\"></block></value></block></value></block></value></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">!itemstackiterator.hasTag()</field></block></value><statement name=\"DO0\"><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:reforge</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">itemstackiterator.hasTag()</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">!itemstackiterator.getTag().contains(\"Autoreforge\") &amp;&amp; !itemstackiterator.getTag().contains(\"Reforge\")</field></block></value><statement name=\"DO0\"><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:reforge</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value></block></statement></block></statement><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"variables_get_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:reforge</field></block></value><statement name=\"DO0\"><block type=\"controls_if\"><value name=\"IF0\"><block type=\"logic_negate\"><value name=\"BOOL\"><block type=\"item_nbt_logic_get\"><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">Autoreforge</field></block></value><value name=\"item\"><block type=\"itemstack_iterator\"></block></value></block></value></block></value><statement name=\"DO0\"><block type=\"item_nbt_logic_set\"><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">Autoreforge</field></block></value><value name=\"item\"><block type=\"itemstack_iterator\"></block></value><value name=\"tagValue\"><block type=\"logic_boolean\"><field name=\"BOOL\">TRUE</field></block></value><next><block type=\"controls_if\"><value name=\"IF0\"><block type=\"math_binary_ops\"><field name=\"OP\">GTE</field><value name=\"A\"><block type=\"number_variable\"><field name=\"variable\">AUTO_REFORGE_CHANCE</field><field name=\"config\">CUSTOM:Reforges</field></block></value><value name=\"B\"><block type=\"math_java_constants\"><field name=\"CONSTANT\">RANDOM</field></block></value></block></value><statement name=\"DO0\"><block type=\"stringlist_variable_foreach\"><field name=\"variable\">qualities</field><field name=\"config\">CUSTOM:Reforges</field><value name=\"_placeholder\"><block type=\"stringlist_iterator\"></block></value><statement name=\"foreach\"><block type=\"java_code\"><field name=\"CODE\">String[] keypair = stringiterator.split(\"=\");</field><next><block type=\"java_code\"><field name=\"CODE\">\t\t\t\t\t\tquality = new Object() {&amp;#10;\t\t\t\t\t\t\tpublic com.google.gson.JsonObject parse(String rawJson) {&amp;#10;\t\t\t\t\t\t\t\ttry {&amp;#10;\t\t\t\t\t\t\t\t\treturn new com.google.gson.Gson().fromJson(rawJson, com.google.gson.JsonObject.class);&amp;#10;\t\t\t\t\t\t\t\t} catch (Exception e) {&amp;#10;\t\t\t\t\t\t\t\t\tQualityEquipmentMod.LOGGER.error(e);&amp;#10;\t\t\t\t\t\t\t\t\treturn new com.google.gson.Gson().fromJson(\"{}\", com.google.gson.JsonObject.class);&amp;#10;\t\t\t\t\t\t\t\t}&amp;#10;\t\t\t\t\t\t\t}&amp;#10;\t\t\t\t\t\t}.parse(keypair[1]);</field><next><block type=\"variables_set_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:type</field><value name=\"VAL\"><block type=\"get_json_text\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:quality</field><value name=\"name\"><block type=\"text\"><field name=\"TEXT\">type</field></block></value></block></value><next><block type=\"controls_if\"><mutation elseif=\"7\"></mutation><value name=\"IF0\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"variables_get_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:type</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">tool</field></block></value></block></value><statement name=\"DO0\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"java_code_get\"><field name=\"CODE\">keypair[0]</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:toolreforges</field></block></value></block></statement><value name=\"IF1\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"variables_get_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:type</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">bow</field></block></value></block></value><statement name=\"DO1\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"java_code_get\"><field name=\"CODE\">keypair[0]</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:bowreforges</field></block></value></block></statement><value name=\"IF2\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"variables_get_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:type</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">shield</field></block></value></block></value><statement name=\"DO2\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"java_code_get\"><field name=\"CODE\">keypair[0]</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:shieldreforges</field></block></value></block></statement><value name=\"IF3\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"variables_get_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:type</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">armor</field></block></value></block></value><statement name=\"DO3\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"java_code_get\"><field name=\"CODE\">keypair[0]</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:armorreforges</field></block></value></block></statement><value name=\"IF4\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"variables_get_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:type</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">helmet</field></block></value></block></value><statement name=\"DO4\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"java_code_get\"><field name=\"CODE\">keypair[0]</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:helmetreforges</field></block></value></block></statement><value name=\"IF5\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"variables_get_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:type</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">chestplate</field></block></value></block></value><statement name=\"DO5\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"java_code_get\"><field name=\"CODE\">keypair[0]</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:chestplatereforges</field></block></value></block></statement><value name=\"IF6\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"variables_get_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:type</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">leggings</field></block></value></block></value><statement name=\"DO6\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"java_code_get\"><field name=\"CODE\">keypair[0]</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:leggingsreforges</field></block></value></block></statement><value name=\"IF7\"><block type=\"text_binary_ops\"><value name=\"A\"><block type=\"variables_get_string\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:type</field></block></value><value name=\"B\"><block type=\"text\"><field name=\"TEXT\">boots</field></block></value></block></value><statement name=\"DO7\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"java_code_get\"><field name=\"CODE\">keypair[0]</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:bootsreforges</field></block></value></block></statement></block></next></block></next></block></next></block></statement><next><block type=\"controls_if\"><mutation elseif=\"3\"></mutation><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">itemstackiterator.getItem() instanceof TieredItem || QualityEquipmentModVariables.tetraItems.contains(classname)</field></block></value><statement name=\"DO0\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:randomr</field><value name=\"VAL\"><block type=\"math_random_int_between\"><value name=\"min\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"max\"><block type=\"arraylist_size\"><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:toolreforges</field></block></value></block></value></block></value><next><block type=\"item_nbt_text_set\"><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">Reforge</field></block></value><value name=\"item\"><block type=\"itemstack_iterator\"></block></value><value name=\"tagValue\"><block type=\"arraylist_get_value_as_string\"><value name=\"index\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:randomr</field></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:toolreforges</field></block></value></block></value></block></next></block></statement><value name=\"IF1\"><block type=\"logic_binary_ops\" inline=\"false\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"logic_binary_ops\" inline=\"false\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"item_istype\"><field name=\"item_type\">Bow</field><value name=\"item\"><block type=\"itemstack_iterator\"></block></value></block></value><value name=\"B\"><block type=\"item_istype\"><field name=\"item_type\">Crossbow</field><value name=\"item\"><block type=\"itemstack_iterator\"></block></value></block></value></block></value><value name=\"B\"><block type=\"java_code_get\"><field name=\"CODE\">QualityEquipmentModVariables.tetraBows.contains(classname)</field></block></value></block></value><statement name=\"DO1\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:randomr</field><value name=\"VAL\"><block type=\"math_random_int_between\"><value name=\"min\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"max\"><block type=\"arraylist_size\"><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:bowreforges</field></block></value></block></value></block></value><next><block type=\"item_nbt_text_set\"><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">Reforge</field></block></value><value name=\"item\"><block type=\"itemstack_iterator\"></block></value><value name=\"tagValue\"><block type=\"arraylist_get_value_as_string\"><value name=\"index\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:randomr</field></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:bowreforges</field></block></value></block></value></block></next></block></statement><value name=\"IF2\"><block type=\"logic_binary_ops\" inline=\"false\"><field name=\"OP\">OR</field><value name=\"A\"><block type=\"item_istype\"><field name=\"item_type\">Shield</field><value name=\"item\"><block type=\"itemstack_iterator\"></block></value></block></value><value name=\"B\"><block type=\"java_code_get\"><field name=\"CODE\">classname.equals(\"se.mickelus.tetra.items.modular.impl.shield.ModularShieldItem\")</field></block></value></block></value><statement name=\"DO2\"><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:randomr</field><value name=\"VAL\"><block type=\"math_random_int_between\"><value name=\"min\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"max\"><block type=\"arraylist_size\"><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:shieldreforges</field></block></value></block></value></block></value><next><block type=\"item_nbt_text_set\"><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">Reforge</field></block></value><value name=\"item\"><block type=\"itemstack_iterator\"></block></value><value name=\"tagValue\"><block type=\"arraylist_get_value_as_string\"><value name=\"index\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:randomr</field></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:shieldreforges</field></block></value></block></value></block></next></block></statement><value name=\"IF3\"><block type=\"java_code_get\"><field name=\"CODE\">itemstackiterator.getItem() instanceof ArmorItem armor</field></block></value><statement name=\"DO3\"><block type=\"controls_if\"><mutation elseif=\"2\" else=\"1\"></mutation><value name=\"IF0\"><block type=\"java_code_get\"><field name=\"CODE\">armor.getType() == ArmorItem.Type.HELMET</field></block></value><statement name=\"DO0\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><block type=\"arraylist_size\"><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:helmetreforges</field></block></value></block></value><statement name=\"DO\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"arraylist_get_value\"><value name=\"index\"><block type=\"java_code_get\"><field name=\"CODE\">index0</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:helmetreforges</field></block></value></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:armorreforges</field></block></value></block></statement></block></statement><value name=\"IF1\"><block type=\"java_code_get\"><field name=\"CODE\">armor.getType() == ArmorItem.Type.CHESTPLATE</field></block></value><statement name=\"DO1\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><block type=\"arraylist_size\"><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:chestplatereforges</field></block></value></block></value><statement name=\"DO\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"arraylist_get_value\"><value name=\"index\"><block type=\"java_code_get\"><field name=\"CODE\">index1</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:chestplatereforges</field></block></value></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:armorreforges</field></block></value></block></statement></block></statement><value name=\"IF2\"><block type=\"java_code_get\"><field name=\"CODE\">armor.getType() == ArmorItem.Type.LEGGINGS</field></block></value><statement name=\"DO2\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><block type=\"arraylist_size\"><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:leggingsreforges</field></block></value></block></value><statement name=\"DO\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"arraylist_get_value\"><value name=\"index\"><block type=\"java_code_get\"><field name=\"CODE\">index2</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:leggingsreforges</field></block></value></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:armorreforges</field></block></value></block></statement></block></statement><statement name=\"ELSE\"><block type=\"controls_repeat_ext\"><value name=\"TIMES\"><block type=\"arraylist_size\"><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:bootsreforges</field></block></value></block></value><statement name=\"DO\"><block type=\"arraylist_add_value\"><value name=\"value\"><block type=\"arraylist_get_value\"><value name=\"index\"><block type=\"java_code_get\"><field name=\"CODE\">index3</field></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:bootsreforges</field></block></value></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:armorreforges</field></block></value></block></statement></block></statement><next><block type=\"variables_set_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:randomr</field><value name=\"VAL\"><block type=\"math_random_int_between\"><value name=\"min\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value><value name=\"max\"><block type=\"arraylist_size\"><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:armorreforges</field></block></value></block></value></block></value><next><block type=\"item_nbt_text_set\"><value name=\"tagName\"><block type=\"text\"><field name=\"TEXT\">Reforge</field></block></value><value name=\"item\"><block type=\"itemstack_iterator\"></block></value><value name=\"tagValue\"><block type=\"arraylist_get_value_as_string\"><value name=\"index\"><block type=\"math_dual_ops\"><field name=\"OP\">MINUS</field><value name=\"A\"><block type=\"variables_get_number\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:randomr</field></block></value><value name=\"B\"><block type=\"math_number\"><field name=\"NUM\">1</field></block></value></block></value><value name=\"var\"><block type=\"variables_get_arraylist\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:armorreforges</field></block></value></block></value></block></next></block></next></block></statement></block></next></block></statement></block></next></block></statement><next><block type=\"variables_set_logic\"><mutation xmlns=\"http://www.w3.org/1999/xhtml\" is_player_var=\"false\" has_entity=\"false\"></mutation><field name=\"VAR\">local:reforge</field><value name=\"VAL\"><block type=\"logic_boolean\"><field name=\"BOOL\">FALSE</field></block></value></block></next></block></statement></block></next></block></next></block></statement></block></next></block></statement></block></statement></block></statement></block></next></block></xml>"
  }
}